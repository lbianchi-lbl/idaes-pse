name: Try actions/github-script

on:
  workflow_dispatch:
  push:
    branches:
      - try-github-script

jobs:
  get-labels:
    name: Get labels for PR
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Get PR labels
        uses: actions/github-script@master
        with:
          github-token: ${{ secrets.GHA_TOKEN }}
          script: |
            const {data: labels} = await github.issues.listLabelsOnIssue({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: 1
            });

            console.log(labels);
            
            const {data: reviews} = await github.pulls.listReviews({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: 1
            });
            
            console.log(reviews);

